<md-card  class="card-lg">
  <md-card-content>
    <div class="card-menu">
      <md-menu>
        <md-button class="md-icon-button" data-ng-click="openMenu($mdOpenMenu)">
          <md-icon md-menu-origin>more_vert</md-icon>
        </md-button>
        <md-menu-content width="4">
          <md-menu-item data-ng-if="showRedirectButton">
            <md-button data-ng-click="redirectToEditMode()">
              <md-icon md-menu-align-target>edit</md-icon>
              <span data-translate="EDIT_PORTFOLIO"></span>
            </md-button>
          </md-menu-item>
          <md-menu-item data-ng-if="showEditButton">
            <md-button data-ng-click="showEditMetadataoDialog()">
              <md-icon md-menu-align-target>edit</md-icon>
              <span data-translate="PORTFOLIO_EDIT_METADATA"></span>
            </md-button>
          </md-menu-item>
          <md-menu-item data-ng-if="isViewPortforlioPage" dop-copy-permalink></md-menu-item>
          <md-menu-divider data-ng-if="isViewPortforlioPage"></md-menu-divider>
          <md-menu-item data-ng-if="isViewPortforlioPage" dop-recommend></md-menu-item>
          <md-menu-divider data-ng-if="isViewPortforlioPage"></md-menu-divider>
          <md-menu-item data-ng-if="isViewPortforlioPage" dop-report-imporper></md-menu-item>
        </md-menu-content>
      </md-menu>
    </div>

    <h1 layout="row">
      {{portfolio.title}}
    </h1>

    <div layout="row">
      <div layout="column" flex="75">

        <div layout="row">
          <div flex>
            <p class="md-body-2 meta">
              <small class="md-caption">
                <span data-translate="DETAIL_VIEW_SUBJECT"></span>
              </small>
              <br>
              <span data-ng-if="taxonUtils.getSubject(portfolio.taxon)" data-translate="{{'SUBJECT_' + taxonUtils.getSubject(portfolio.taxon).name.toUpperCase()}}"></span>
            </p>
          </div>
          <div flex>
            <p class="md-body-2 meta">
              <small class="md-caption">
                <span data-translate="DETAIL_VIEW_EDUCATIONAL_CONTEXT"></span>
              </small>
              <br>
              <span data-ng-if="portfolio.taxon" data-translate="{{taxonUtils.getEducationalContext(portfolio.taxon).name.toUpperCase()}}"></span>
            </p>
          </div>
        </div>

        <md-divider class="md-default-theme"></md-divider>

        <p class="md-body-1 description">
          {{portfolio.summary}}
        </p>

        <p class="md-body-2 meta">
          <small class="md-caption">
            <span data-translate="DETAIL_VIEW_TAGS"></span>:
          </small>
          <br>
          <a href="#" data-ng-repeat="tag in portfolio.tags">
            {{tag}}
            <span data-ng-bind="$index < portfolio.tags.length - 1 ? ', ' : ''"></span>
          </a>
        </p>
      </div>
      <div layout="column" flex="25" class="divider-left" layout-align="start start">
        <md-content>
          <p class="md-body-1">
            <small class="md-caption">
              <span data-translate="AUTHORS"></span>:
            </small>
            <a>
              <span data-ng-bind="portfolio.creator.name"></span>
              <span data-ng-bind="portfolio.creator.surname"></span>
            </a>
          </p>

          <p class="md-body-1" data-ng-if="portfolio.updated">
            <small class="md-caption">
              <span data-translate="UPDATED"></span>:
            </small>
            {{portfolio.updated | date:'dd.MM.yyyy'}}
          </p>

          <p class="md-body-1" data-ng-if="portfolio.created">
            <small class="md-caption">
              <span data-translate="CREATED"></span>:
            </small>
            {{portfolio.created | date:'dd.MM.yyyy'}}
          </p>

          <p class="md-body-1">
            <span data-ng-bind="portfolio.views"></span>
          </p>
        </md-content>
      </div>
    </div>
    <md-divider class="md-default-theme"></md-divider>

    <div layout="row" class="md-actions">
      <div data-dop-comments-card comments="portfolio.comments" comment="newComment" submit-click="addComment()"></div>
      <span flex></span>
    <!-- rating control -->
    <div data-ng-if="!$root.isEditPortforlioMode" data-dop-rating like-message="{{ 'PORTFOLIO_LIKED' | translate }}" dislike-message="{{ 'PORTFOLIO_DISLIKED' | translate }}"></div>
  </div>
  </md-card-content>
</md-card>
